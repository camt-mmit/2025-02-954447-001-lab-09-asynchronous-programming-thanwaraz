import{a as ne,b as oe,c as re,e as ae}from"./chunk-A4NH3CFZ.js";import{$ as z,A as f,D as b,E as _,G as E,H as F,J as L,K as B,L as K,M as g,N as a,O as r,P as d,Q as c,R as s,S as h,T as D,U as S,V as u,W as o,X as v,Y as W,Z as q,_ as J,aa as G,ca as H,da as Q,ea as U,ga as I,ha as X,i as O,ia as Y,ja as Z,k as y,la as ee,m as P,ma as te,n as x,na as ie,u as A,x as j,y as l}from"./chunk-3FSOTXLC.js";function $(){return""}function le(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[$()]}}function me(n,i){if(n&1){let e=D();a(0,"div",10)(1,"button",11),S("click",function(){let m=P(e).$index,p=u();return x(p.moveFriend(m,-1))}),a(2,"i",9),o(3,"\u25B2"),r()(),a(4,"button",11),S("click",function(){let m=P(e).$index,p=u();return x(p.moveFriend(m,1))}),a(5,"i",9),o(6,"\u25BC"),r()(),a(7,"span",12)(8,"label")(9,"b"),o(10," Friend "),a(11,"span",13),o(12),r()(),d(13,"input",3),b(),r()(),a(14,"button",14),S("click",function(){let m=P(e).$index,p=u();return x(p.removeFriend(m))}),a(15,"i",9),o(16,"\u{1F7A9}"),r()()(),d(17,"br")}if(n&2){let e=i.$implicit,t=i.$index,m=i.$index,p=i.$count,de=i.$count;l(),g("disabled",m===0),l(3),g("disabled",m===de-1),l(8),v(t+1),l(),_(e,"formField"),l(),g("disabled",p===1)}}var V=class n{data=Y.required();friendsCountKey=oe();form=re(this.data,i=>{ne(i.friends,this.friendsCountKey,({value:e})=>e().length)});addFriend(){this.form.friends().value.update(i=>[...i,$()])}removeFriend(i){this.form.friends().value.update(e=>e.filter((t,m)=>m!==i))}moveFriend(i,e){this.form.friends().value.update(t=>t.map((m,p)=>p===i?t[i+e]:p===i+e?t[i]:m))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:43,vars:15,consts:[[1,"_main-form",3,"disabled"],[1,"_info-form"],["type","text","inputmode","numeric",3,"formField"],["type","text",3,"formField"],["type","number",3,"formField"],["rows","5",3,"formField"],[1,"_friends-form",3,"disabled"],[1,"app-cl-number"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_friend-container"],["type","button",1,"app-cmp-button",3,"click","disabled"],[1,"_friend-input"],[1,"_friend-title-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,t){e&1&&(a(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),o(4,"Student ID "),r(),d(5,"input",2),b(),r(),d(6,"br")(7,"br"),a(8,"label")(9,"b"),o(10,"Firstname "),r(),d(11,"input",3),b(),r(),d(12,"br")(13,"br"),a(14,"label")(15,"b"),o(16,"Lastname "),r(),d(17,"input",3),b(),r(),d(18,"br")(19,"br"),a(20,"label")(21,"b"),o(22,"Age "),r(),d(23,"input",4),b(),r(),d(24,"br")(25,"br"),a(26,"label")(27,"b"),o(28,"Autobiography "),r(),d(29,"textarea",5),b(),r()(),d(30,"br"),a(31,"fieldset",6)(32,"legend"),o(33," Friends "),a(34,"span",7),o(35),H(36,"number"),r(),a(37,"button",8),S("click",function(){return t.addFriend()}),a(38,"i",9),o(39,"add"),r()()(),d(40,"br"),B(41,me,18,6,null,null,L),r()()),e&2&&(g("disabled",t.form().disabled()),l(5),_(t.form.studentId,"formField"),l(6),_(t.form.firstname,"formField"),l(6),_(t.form.lastname,"formField"),l(6),_(t.form.age,"formField"),l(6),_(t.form.autobiography,"formField"),l(2),g("disabled",t.form.friends().disabled()),l(4),W("(",Q(36,13,t.form.friends().metadata(t.friendsCountKey)()),")"),l(6),K(t.form.friends))},dependencies:[ae,Z],encapsulation:2,changeDetection:0})};var pe="profile-data",C=class n{keyName=`${y(j)}-${pe}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(i){return localStorage.setItem(this.keyName,JSON.stringify(i))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function ce(n,i){if(n&1){let e=D();a(0,"app-profile-form",1),G("dataChange",function(m){P(e);let p=u();return z(p.dataResource.value,m)||(p.dataResource.value=m),x(m)}),r()}if(n&2){let e=u();J("data",e.dataResource.value)}}var M=class n{dataStorage=y(C);dataResource=I({loader:async()=>await this.dataStorage.get()??le()});constructor(){A(()=>{this.dataResource.hasValue()&&this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,t){e&1&&E(0,ce,1,1,"app-profile-form",0),e&2&&F(t.dataResource.hasValue()?0:-1)},dependencies:[V],encapsulation:2,changeDetection:0})};var N=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-profile-root"]],decls:12,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,t){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),o(5,"\u{1F440}View"),r()()(),a(6,"li",1)(7,"a",4)(8,"i",3),o(9,"\u270F\uFE0FEdit"),r(),o(10," Form "),r()()()(),d(11,"router-outlet"))},dependencies:[te,ie,ee],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var R=class n{data=X.required();friends=U(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:32,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,t){e&1&&(c(0,"dl",0)(1,"dt")(2,"b"),o(3,"Student ID"),s()(),c(4,"dd")(5,"span",1),o(6),s()(),h(7,"br"),c(8,"dt")(9,"b"),o(10,"Fullname"),s()(),c(11,"dd"),o(12),s(),h(13,"br"),c(14,"dt")(15,"b"),o(16,"Age"),s()(),c(17,"dd")(18,"span",2),o(19),s()(),h(20,"br"),c(21,"dt")(22,"b"),o(23,"Autobiography"),s()(),c(24,"dd",3),o(25),s(),h(26,"br"),c(27,"dt")(28,"b"),o(29,"Friends"),s()(),c(30,"dd"),o(31),s()()),e&2&&(l(6),v(t.data().studentId),l(6),q("",t.data().firstname," ",t.data().lastname),l(7),v(t.data().age),l(6),v(t.data().autobiography),l(6),v(t.friends()))},encapsulation:2,changeDetection:0})};function se(n,i){n&1&&d(0,"app-profile-view",0),n&2&&g("data",i)}function fe(n,i){n&1&&(a(0,"p",1)(1,"i",2),o(2,"warning"),r(),o(3,` Not Found!!!
`),r())}function ue(n,i){if(n&1&&E(0,se,1,1,"app-profile-view",0)(1,fe,4,0,"p",1),n&2){let e,t=u();F((e=t.dataResource.value())?0:1,e)}}var T=class n{dataStorage=y(C);dataResource=I({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,t){e&1&&E(0,ue,2,1),e&2&&F(t.dataResource.hasValue()?0:-1)},dependencies:[R],encapsulation:2,changeDetection:0})};var He=[{path:"",component:N,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:T},{path:"form",component:M}]}];export{He as default};
