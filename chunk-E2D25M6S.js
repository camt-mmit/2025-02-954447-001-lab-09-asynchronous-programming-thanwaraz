import{a as ae,b as ce,c as re,d as le,e as me}from"./chunk-A4NH3CFZ.js";import{$ as U,A as p,D as J,E as G,G as P,H as O,I as H,J as S,K as v,L as C,M as x,N as r,O as a,P as _,Q as s,R as g,T as D,U as h,V as d,W as o,X as u,_ as Q,aa as X,ca as w,da as V,ea as Y,fa as Z,ga as F,ha as ee,i as W,ia as te,ja as T,k as y,la as ne,m as f,ma as ie,n as b,na as oe,u as E,x as q,y as l}from"./chunk-3FSOTXLC.js";var I=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-assignment-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,i){e&1&&(r(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),o(5,"\u{1F440}"),a(),o(6," View "),a()(),r(7,"li",1)(8,"a",4)(9,"i",3),o(10,"\u{1F4DD}"),a(),o(11," Form "),a()()()(),_(12,"router-outlet"))},dependencies:[ie,oe,ne],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};function de(t){return{value:t}}function pe(t){return t.value}function A(){return 0}function B(){return[A()]}function se(){return[B()]}function L(t){return de(t)}function K(t){return t.map(L)}function ue(t){return t.map(K)}function ye(t){return pe(t)}function fe(t){return t.map(ye)}function ge(t){return t.map(fe)}function be(t,n){if(t&1){let e=D();r(0,"div",9)(1,"span",10)(2,"label")(3,"b"),o(4," Number "),r(5,"span",13),o(6),a()(),_(7,"input",14),J(),a()(),r(8,"button",15),h("click",function(){let c=f(e).$index,m=d().$implicit,_e=d();return b(_e.removeValue(m,c))}),r(9,"i",2),o(10,"\u2718"),a()()()}if(t&2){let e=n.$implicit,i=n.$index,c=n.$count;l(6),u(i+1),l(),G(e.value,"formField"),l(),x("disabled",c===1)}}function ve(t,n){if(t&1){let e=D();r(0,"fieldset",4)(1,"legend")(2,"button",5),h("click",function(){let c=f(e).$implicit,m=d();return b(m.addValue(c))}),r(3,"i",2),o(4,"\u271A"),a(),o(5," Number "),a(),r(6,"span")(7,"span",6),o(8),a()(),r(9,"button",7),h("click",function(){let c=f(e).$index,m=d();return b(m.removeItem(c))}),r(10,"i",2),o(11,"\u274C"),a()()(),r(12,"div",8),v(13,be,11,4,"div",9,S),r(15,"div",9)(16,"span",10)(17,"label")(18,"b"),o(19,"Result"),a(),r(20,"output",11),o(21),w(22,"number"),a()()(),_(23,"button",12),a()()()}if(t&2){let e=n.$implicit,i=n.$index,c=n.$count,m=d();l(8),u(i+1),l(),x("disabled",c===1),l(4),C(e),l(8),u(V(22,3,e().metadata(m.totalKey)()))}}var R=class t{data=te.required();syncedSource=null;model=Z({source:this.data,computation:(n,e)=>typeof e>"u"||this.syncedSource!==n?ue(n):e.value});totalKey=ce();form=re(this.model,n=>{le(n,e=>{ae(e,this.totalKey,({valueOf:i})=>i(e).reduce((c,m)=>c+m.value,0))})});constructor(){E(()=>{this.syncedSource=ge(this.model()),this.data.set(this.syncedSource)})}addItem(){this.form().value.update(n=>[...n,K(B())])}removeItem(n){this.form().value.update(e=>e.filter((i,c)=>c!==n))}addValue(n){n().value.update(e=>[...e,L(A())])}removeValue(n,e){n().value.update(i=>i.filter((c,m)=>m!==e))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-dynamic-section-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:9,vars:1,consts:[[1,"_main-form",3,"disabled"],["type","button",1,"app-cmp-button","app-cl-filled",3,"click"],[1,"material-symbols-outlined"],[1,"_items-form"],[1,"_item-container"],["type","button",1,"app-cmp-button",3,"click"],[1,"_item-titel-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn","app-cl-filled",3,"click","disabled"],[1,"_values-form"],[1,"_value-container"],[1,"_value-input"],[1,"app-cl-number"],["type","button","aria-hidden","true",1,"app-cmp-button","app-cl-warn","app-cl-hidden"],[1,"_value-title-no","app-cl-number"],["type","number",3,"formField"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"fieldset",0)(1,"legend")(2,"button",1),h("click",function(){return i.addItem()}),r(3,"i",2),o(4,"\u271A"),a(),o(5," Section "),a()(),r(6,"div",3),v(7,ve,24,5,"fieldset",4,S),a()()),e&2&&(x("disabled",i.form().disabled()),l(7),C(i.form))},dependencies:[me,T],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-form[_ngcontent-%COMP%]{--_border-color: var(--app-on-surface-color)}}._main-form[_ngcontent-%COMP%]{border:1px solid var(--_border-color)}@layer{._items-form[_ngcontent-%COMP%]{--_row-gap: calc(var(--app-row-gap) * 4);--_border-color: var(--app-on-surface-color);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap)}}@layer{._items-form[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._items-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:var(--_row-gap)}._items-form[_ngcontent-%COMP%] > ._item-container[_ngcontent-%COMP%]{border:1px solid var(--_border-color)}._items-form[_ngcontent-%COMP%] > ._item-container[_ngcontent-%COMP%] > legend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;column-gap:var(--_legend-column-gap);margin-bottom:var(--_body-gap);font-weight:700}._items-form[_ngcontent-%COMP%]   ._item-titel-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}@layer{._values-form[_ngcontent-%COMP%]{--_margin-top: var(--app-row-gap);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap);--_border-color: var(--app-on-surface-color)}}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:12ch;margin-right:1ch}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{flex:1 0 auto}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{height:100%}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{margin-left:1ch}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{height:100%}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > output[_ngcontent-%COMP%]{padding-top:.25em;padding-right:2ch;font-weight:700;text-decoration:underline double}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]   ._value-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}"],changeDetection:0})};var Ce="dynamic-section-data",M=class t{keyName=`${y(q)}-${Ce}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(n){return localStorage.setItem(this.keyName,JSON.stringify(n))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};function xe(t,n){if(t&1){let e=D();r(0,"app-dynamic-section-form",1),X("dataChange",function(c){f(e);let m=d();return U(m.dataResource.value,c)||(m.dataResource.value=c),b(c)}),a()}if(t&2){let e=d();Q("data",e.dataResource.value)}}var j=class t{dataStorage=y(M);dataResource=F({loader:async()=>await this.dataStorage.get()??se()});constructor(){E(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-dynamic-section-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,i){e&1&&P(0,xe,1,1,"app-dynamic-section-form",0),e&2&&O(i.dataResource.hasValue()?0:-1)},dependencies:[R],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};function Me(t,n){if(t&1&&(s(0,"dt"),o(1," number "),s(2,"span",6),o(3),g()(),s(4,"dd",7),o(5),w(6,"number"),g()),t&2){let e=n.$implicit,i=n.$index;l(3),u(i+1),l(2),u(V(6,2,e))}}function Pe(t,n){if(t&1&&(s(0,"section",2)(1,"h3"),o(2," Section "),s(3,"span",3),o(4),g()(),s(5,"dl",4),v(6,Me,7,4,null,null,H),s(8,"dt"),o(9,"Result"),g(),s(10,"dd",5),o(11),w(12,"number"),g()()()),t&2){let e=n.$implicit,i=n.$index,c=d();l(4),u(i+1),l(2),C(e),l(5),u(V(12,2,c.totals()[i]))}}var $=class t{data=ee.required();totals=Y(()=>this.data().reduce((n,e)=>[...n,e.reduce((i,c)=>i+c,0)],[]));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-dynamic-section-view"]],inputs:{data:[1,"data"]},decls:5,vars:0,consts:[[1,"_items-container"],[1,"_items-title"],[1,"_item-container"],[1,"_item-title-no","app-cl-number"],[1,"_values-container"],[1,"_values-total","app-cl-number"],[1,"_value-title-no","app-cl-number"],[1,"app-cl-number"]],template:function(e,i){e&1&&(s(0,"article",0)(1,"h2",1),o(2,"Sections"),g(),v(3,Pe,13,4,"section",2,S),g()),e&2&&(l(3),C(i.data()))},dependencies:[T],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._items-title[_ngcontent-%COMP%]{text-align:center}._item-container[_ngcontent-%COMP%]   ._item-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-right:auto}@layer{._values-container[_ngcontent-%COMP%]{--_column-gap: var(--app-column-gap);--_row-gap: var(--app-row-gap)}}._values-container[_ngcontent-%COMP%]:is(dl){display:grid;align-items:baseline;grid-template-columns:auto 1fr;column-gap:var(--_column-gap);row-gap:var(--_row-gap)}._values-container[_ngcontent-%COMP%]:is(dl) > dt[_ngcontent-%COMP%]{font-weight:700}._values-container[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{margin-left:0}@layer{._values-container[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{text-align:justify}}._values-container[_ngcontent-%COMP%]{padding-left:64px}._values-container[_ngcontent-%COMP%]   ._value-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-right:auto}._values-container[_ngcontent-%COMP%]   ._values-total[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline double}"],changeDetection:0})};function Oe(t,n){t&1&&_(0,"app-dynamic-section-view",0),t&2&&x("data",n)}function Se(t,n){t&1&&(r(0,"p",1)(1,"i",2),o(2,"warning"),a(),o(3," Not Found!!! "),a())}function De(t,n){if(t&1&&P(0,Oe,1,1,"app-dynamic-section-view",0)(1,Se,4,0,"p",1),t&2){let e,i=d();O((e=i.dataResource.value())?0:1,e)}}var z=class t{dataStorage=y(M);dataResource=F({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-dynamic-section-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,i){e&1&&P(0,De,2,1),e&2&&O(i.dataResource.hasValue()?0:-1)},dependencies:[$],styles:[".app-cmp-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#000;padding:5px 10px;width:fit-content;list-style:none}.app-cmp-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.app-cmp-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b1d5e4;text-decoration:none}@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._message[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:var(--app-column-gap);font-size:xx-large;font-weight:600;margin-top:64px}._message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:xx-large}"],changeDetection:0})};var dt=[{path:"",component:I,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:z},{path:"form",component:j}]}];export{dt as default};
